-- Rojo å…±äº«æ¨¡å—éªŒè¯è„šæœ¬ - ç¡®ä¿æ¨¡å—æ­£ç¡®åŠ è½½

local ReplicatedStorage = game:GetService("ReplicatedStorage")

print("ğŸ” [SetupReplicatedStorage] éªŒè¯ Rojo åŒæ­¥çš„å…±äº«æ¨¡å—...")

-- ç­‰å¾… Rojo åŒæ­¥çš„ SharedModules æ–‡ä»¶å¤¹
local SharedModules = ReplicatedStorage:WaitForChild("SharedModules", 10)
if not SharedModules then
    error("âŒ [SetupReplicatedStorage] æ— æ³•æ‰¾åˆ° SharedModules æ–‡ä»¶å¤¹ï¼Œè¯·ç¡®ä¿ Rojo æ­£å¸¸è¿è¡Œ")
    return false
end

-- éªŒè¯å¿…éœ€çš„æ¨¡å—æ˜¯å¦å­˜åœ¨
local requiredModules = {
    "Config",
    "EnvironmentManager",
    "ShopEvents",
    "ShopData"
}

local allModulesPresent = true
local loadedModules = {}

for _, moduleName in ipairs(requiredModules) do
    local module = SharedModules:FindFirstChild(moduleName)
    if module then
        print("âœ… [SetupReplicatedStorage] å‘ç°æ¨¡å—: " .. moduleName)
        table.insert(loadedModules, moduleName)
    else
        warn("âŒ [SetupReplicatedStorage] ç¼ºå°‘æ¨¡å—: " .. moduleName)
        allModulesPresent = false
    end
end

-- æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨æ¨¡å—
local availableModules = {}
for _, child in pairs(SharedModules:GetChildren()) do
    table.insert(availableModules, child.Name)
end

print("ğŸ“¦ [SetupReplicatedStorage] å¯ç”¨æ¨¡å—åˆ—è¡¨: " .. table.concat(availableModules, ", "))

if allModulesPresent then
    print("âœ… [SetupReplicatedStorage] æ‰€æœ‰å¿…éœ€æ¨¡å—å·²é€šè¿‡ Rojo æˆåŠŸåŠ è½½")
    return true
else
    warn("âš ï¸ [SetupReplicatedStorage] éƒ¨åˆ†æ¨¡å—ç¼ºå¤±ï¼Œè¯·æ£€æŸ¥ Rojo é…ç½®")
    return false
end
